<!-- 
  ì‚¬ìš©ì ëª©ë¡ í˜ì´ì§€ í…œí”Œë¦¿
  
  ëª©ì : ì‚¬ìš©ì ëª©ë¡ì„ í‘œì‹œí•˜ê³  ê²€ìƒ‰, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê´€ë¦¬ì í˜ì´ì§€
    - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ê´€ë¦¬ìê°€ ì‚¬ìš©ì ëª©ë¡ì„ í™•ì¸í•˜ê³  ê²€ìƒ‰, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•¨
    - ë°ì´í„° ê´€ë¦¬: ì‚¬ìš©ì ì •ë³´ë¥¼ í…Œì´ë¸”ë¡œ í‘œì‹œí•˜ê³  ìƒì„¸ ì •ë³´ í™•ì¸
    - ê¸°ëŠ¥ ì œê³µ: ê²€ìƒ‰, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜, ìƒì„¸ ì •ë³´ í‘œì‹œ
  
  ì£¼ìš” ê¸°ëŠ¥:
    - ì‚¬ìš©ì ëª©ë¡ í‘œì‹œ: ì „ì²´ ì‚¬ìš©ì ëª©ë¡ì„ í…Œì´ë¸”ë¡œ í‘œì‹œ
    - ê²€ìƒ‰ ê¸°ëŠ¥: ID, ì´ë¦„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰ ê°€ëŠ¥
    - ì •ë ¬ ê¸°ëŠ¥: No., ID, ì´ë¦„, ìƒë…„ì›”ì¼, ì„±ë³„, ì „í™”ë²ˆí˜¸, ì´ë©”ì¼, ì£¼ì†Œ, ìƒì„±ì¼ì‹œë¡œ ì •ë ¬ ê°€ëŠ¥
    - í˜ì´ì§€ë„¤ì´ì…˜: ë§ì€ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ í‘œì‹œ
    - ìƒì„¸ ì •ë³´ í‘œì‹œ: ì‚¬ìš©ì í–‰ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ë¥¼ AJAXë¡œ ë¡œë“œí•˜ì—¬ í‘œì‹œ
  
  ê´€ë ¨ íŒŒì¼:
    - CSS: admin_common.css, user_list.css
    - JavaScript: admin_common.js, user_list.js
    - ìƒì„¸ ì •ë³´ í…œí”Œë¦¿: user_list_detail.html (AJAXë¡œ ë¡œë“œ)
-->
{% load static %}
{% load masking_filters %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- 
    HTML ë¬¸ì„œ ë©”íƒ€ ì •ë³´
    
    ëª©ì : ë¬¸ì„œì˜ ê¸°ë³¸ ì •ë³´ ë° ì„¤ì •
      - charset: UTF-8 ì¸ì½”ë”© ì„¤ì • (í•œê¸€ ì§€ì›)
      - viewport: ë°˜ì‘í˜• ë””ìì¸ì„ ìœ„í•œ ë·°í¬íŠ¸ ì„¤ì •
      - title: ë¸Œë¼ìš°ì € íƒ­ì— í‘œì‹œë  í˜ì´ì§€ ì œëª©
  -->
  <meta charset="UTF-8">
  <!-- 
    ë·°í¬íŠ¸ ì„¤ì •
    
    ëª©ì : ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì˜¬ë°”ë¥¸ í™”ë©´ í¬ê¸°ë¡œ í‘œì‹œë˜ë„ë¡ ì„¤ì •
      - width=device-width: ê¸°ê¸°ì˜ ì‹¤ì œ ë„ˆë¹„ì— ë§ì¶¤
      - initial-scale=1.0: ì´ˆê¸° í™•ëŒ€/ì¶•ì†Œ ë¹„ìœ¨ 100%
      - minimum-scale=0.5: ìµœì†Œ í™•ëŒ€/ì¶•ì†Œ ë¹„ìœ¨ 50%
      - maximum-scale=2.0: ìµœëŒ€ í™•ëŒ€/ì¶•ì†Œ ë¹„ìœ¨ 200%
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0">
  <title>ì‚¬ìš©ì ëª©ë¡ - CareBridge ê´€ë¦¬ì</title>
  <!-- Favicon ì„¤ì • -->
 <link rel="icon" href="{% static 'core/img/favicon.png' %}" type="image/png">
  
  <!-- 
    CSS íŒŒì¼ ë¡œë“œ
    
    ëª©ì : í˜ì´ì§€ ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•œ CSS íŒŒì¼ ë¡œë“œ
      - admin_common.css: ê´€ë¦¬ì íŒ¨ë„ ê³µí†µ ìŠ¤íƒ€ì¼
      - user_list.css: ì‚¬ìš©ì ëª©ë¡ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼
  -->
  <link rel="stylesheet" href="{% static 'admin_panel/css/admin_common.css' %}">
  <link rel="stylesheet" href="{% static 'admin_panel/css/user_list.css' %}">
</head>
<body>
  {% comment %}
    í—¤ë” ì„¹ì…˜
    
    ëª©ì : í˜ì´ì§€ ìƒë‹¨ì— ë¡œê³ ì™€ ì‚¬ìš©ì ì •ë³´, ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ í‘œì‹œ
      - ë¡œê³ : CareBridge ë¡œê³  ì´ë¯¸ì§€ ë° ëŒ€ì‹œë³´ë“œ ë§í¬
      - ì‚¬ìš©ì ì •ë³´: ë¡œê·¸ì¸í•œ ê´€ë¦¬ì ì´ë¦„ í‘œì‹œ
      - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼: ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ ì œê³µ
      - ê³µí†µ í—¤ë” í…œí”Œë¦¿ ì‚¬ìš©: core/header.html
  {% endcomment %}
  {% include 'core/_header.html' %}

  <!-- 
    ë©”ì¸ ì»¨í…Œì´ë„ˆ
    
    ëª©ì : í˜ì´ì§€ì˜ ì£¼ìš” ë‚´ìš©ì„ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ
      - CSS í´ë˜ìŠ¤: container (ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼)
      - ë‚´ìš©: íƒ­, ê²€ìƒ‰ ì„¹ì…˜, ëª©ë¡, í˜ì´ì§€ë„¤ì´ì…˜, ìƒì„¸ ì •ë³´
  -->
  <div class="container">
    <!-- 
      ìƒë‹¨ íƒ­ ë©”ë‰´
      
      ëª©ì : ê´€ë¦¬ì íŒ¨ë„ì˜ ê° í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” íƒ­ ë©”ë‰´
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ê´€ë¦¬ìê°€ ì‰½ê²Œ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ í•¨
        - í˜„ì¬ í˜ì´ì§€ í‘œì‹œ: active í´ë˜ìŠ¤ë¡œ í˜„ì¬ í˜ì´ì§€ í‘œì‹œ
    -->
    <div class="tabs">
      <!-- 
        ì‚¬ìš©ìëª©ë¡ íƒ­ (í˜„ì¬ í˜ì´ì§€)
        
        ëª©ì : ì‚¬ìš©ì ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™ (í˜„ì¬ í˜ì´ì§€)
          - href: {% url 'user_list' %} - ì‚¬ìš©ì ëª©ë¡ URL
          - CSS í´ë˜ìŠ¤: tab active (íƒ­ ìŠ¤íƒ€ì¼ + í˜„ì¬ í˜ì´ì§€ í‘œì‹œ)
      -->
      <a href="{% url 'user_list' %}" class="tab active">ì‚¬ìš©ìëª©ë¡</a>
      
      <!-- 
        ì˜ì‚¬ëª©ë¡ íƒ­
        
        ëª©ì : ì˜ì‚¬ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'doctor_list' %} - ì˜ì‚¬ ëª©ë¡ URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'doctor_list' %}" class="tab">ì˜ì‚¬ëª©ë¡</a>
      
      <!-- 
        ë³‘ì›ì •ë³´ íƒ­
        
        ëª©ì : ë³‘ì› ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'hospital_list' %} - ë³‘ì› ì •ë³´ URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'hospital_list' %}" class="tab">ë³‘ì›ì •ë³´</a>
      
      <!-- 
        ìŠ¹ì¸ëŒ€ê¸° íƒ­
        
        ëª©ì : ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'approval_pending' %} - ìŠ¹ì¸ ëŒ€ê¸° URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'approval_pending' %}" class="tab">ìŠ¹ì¸ëŒ€ê¸°</a>
      
      <!-- 
        1:1ë¬¸ì˜ê´€ë¦¬ íƒ­
        
        ëª©ì : 1:1 ë¬¸ì˜ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'qna_list' %} - 1:1 ë¬¸ì˜ ëª©ë¡ URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'qna_list' %}" class="tab">1:1ë¬¸ì˜ê´€ë¦¬</a>
    </div>
    

    <!-- 
      ê²€ìƒ‰ ì„¹ì…˜
      
      ëª©ì : ì‚¬ìš©ì ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì„¹ì…˜
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ê´€ë¦¬ìê°€ ì›í•˜ëŠ” ì‚¬ìš©ìë¥¼ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ
        - ê²€ìƒ‰ ì¡°ê±´: ID, ì´ë¦„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰ ê°€ëŠ¥
        - ë”ë¯¸ ë°ì´í„° ê´€ë¦¬: ê°œë°œ í™˜ê²½ì—ì„œ ë”ë¯¸ ë°ì´í„° ìƒì„±/ì‚­ì œ ê¸°ëŠ¥ ì œê³µ
    -->
    <div class="search-section">
      <!-- 
        ë””ë²„ê¹… ì •ë³´ (ê°œë°œ í™˜ê²½ìš©)
        
        ëª©ì : ê²€ìƒ‰ ê²°ê³¼ì— ëŒ€í•œ ë””ë²„ê¹… ì •ë³´ í‘œì‹œ (ê°œë°œ í™˜ê²½ì—ì„œ ìœ ìš©)
          - ì¡°ê±´: search_typeê³¼ search_keywordê°€ ëª¨ë‘ ìˆì„ ë•Œë§Œ í‘œì‹œ
          - CSS í´ë˜ìŠ¤: debug-info (ë””ë²„ê¹… ì •ë³´ ìŠ¤íƒ€ì¼)
          - í‘œì‹œ ì •ë³´:
            â†’ ì „ì²´ ì‚¬ìš©ì ìˆ˜: {{ total_users_count }} - ì „ì²´ ì‚¬ìš©ì ìˆ˜
            â†’ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜: {{ search_result_count }} - ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” ì‚¬ìš©ì ìˆ˜
            â†’ ê²€ìƒ‰ì–´: "{{ search_keyword }}" - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²€ìƒ‰ì–´
          - ì£¼ì˜: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì œê±° ê°€ëŠ¥
      -->
      {% if search_type and search_keyword %}
      <div class="debug-info">
        ì „ì²´ ì‚¬ìš©ì: {{ total_users_count }}ëª… | ê²€ìƒ‰ ê²°ê³¼: {{ search_result_count }}ëª… | ê²€ìƒ‰ì–´: "{{ search_keyword }}"
      </div>
      {% endif %}
      
      <!-- 
        ê²€ìƒ‰ í¼
        
        ëª©ì : ì‚¬ìš©ì ê²€ìƒ‰ì„ ìœ„í•œ í¼
          - method="post": POST ë©”ì„œë“œë¡œ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬
          - action: {% url 'user_list' %} - ì‚¬ìš©ì ëª©ë¡ URL (ìê¸° ìì‹ )
          - CSS í´ë˜ìŠ¤: search-form (ê²€ìƒ‰ í¼ ìŠ¤íƒ€ì¼)
      -->
      <form method="post" action="{% url 'user_list' %}" class="search-form">
        {% csrf_token %}
        <!-- 
          ê²€ìƒ‰ ì¡°ê±´ ì„ íƒ ë“œë¡­ë‹¤ìš´
          
          ëª©ì : ê²€ìƒ‰í•  í•„ë“œë¥¼ ì„ íƒ
            - name="search_type": ì„œë²„ì—ì„œ ê²€ìƒ‰ ì¡°ê±´ì„ ì½ê¸° ìœ„í•œ í•„ë“œ ì´ë¦„
            - CSS í´ë˜ìŠ¤: search-select (ê²€ìƒ‰ ì„ íƒ ë“œë¡­ë‹¤ìš´ ìŠ¤íƒ€ì¼)
            - ì˜µì…˜:
              â†’ value="": ê¸°ë³¸ê°’ (ê²€ìƒ‰ ì¡°ê±´ ë¯¸ì„ íƒ)
              â†’ value="username": IDë¡œ ê²€ìƒ‰
              â†’ value="name": ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
              â†’ value="email": ì´ë©”ì¼ë¡œ ê²€ìƒ‰
              â†’ value="phone": ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰
            - selected ì†ì„±: í˜„ì¬ ì„ íƒëœ ê²€ìƒ‰ ì¡°ê±´ í‘œì‹œ
        -->
        <select name="search_type" class="search-select">
          <option value="">ê²€ìƒ‰ì¡°ê±´</option>
          <option value="username" {% if search_type == 'username' %}selected{% endif %}>ID</option>
          <option value="name" {% if search_type == 'name' %}selected{% endif %}>ì´ë¦„</option>
          <option value="email" {% if search_type == 'email' %}selected{% endif %}>ì´ë©”ì¼</option>
          <option value="phone" {% if search_type == 'phone' %}selected{% endif %}>ì „í™”ë²ˆí˜¸</option>
        </select>
        
        <!-- 
          ê²€ìƒ‰ì–´ ì…ë ¥ í•„ë“œ
          
          ëª©ì : ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ì…ë ¥
            - type="text": í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ
            - name="search_keyword": ì„œë²„ì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ì½ê¸° ìœ„í•œ í•„ë“œ ì´ë¦„
            - value="{{ search_keyword }}": ì´ì „ì— ì…ë ¥í•œ ê²€ìƒ‰ì–´ ìœ ì§€
            - placeholder: "ì¡°ê±´ ì„ íƒ í›„ ì…ë ¥" - ì‚¬ìš©ì ì•ˆë‚´ ë©”ì‹œì§€
            - CSS í´ë˜ìŠ¤: search-input (ê²€ìƒ‰ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼)
        -->
        <input 
          type="text" 
          name="search_keyword" 
          value="{{ search_keyword }}" 
          placeholder="ì¡°ê±´ ì„ íƒ í›„ ì…ë ¥" 
          class="search-input"
        >
        
        <!-- 
          ê²€ìƒ‰ ë²„íŠ¼
          
          ëª©ì : ê²€ìƒ‰ í¼ì„ ì œì¶œí•˜ì—¬ ê²€ìƒ‰ ì‹¤í–‰
            - type="submit": í¼ ì œì¶œ ë²„íŠ¼
            - CSS í´ë˜ìŠ¤: search-btn (ê²€ìƒ‰ ë²„íŠ¼ ìŠ¤íƒ€ì¼)
            - ì•„ì´ì½˜: ğŸ” (ê²€ìƒ‰ ì•„ì´ì½˜)
        -->
        <button type="submit" class="search-btn">
          <span class="search-icon">ğŸ”</span>
        </button>
      </form>
    </div>

    <!-- 
      ì‚¬ìš©ì ëª©ë¡ í…Œì´ë¸” ì„¹ì…˜
      
      ëª©ì : ì‚¬ìš©ì ëª©ë¡ì„ í…Œì´ë¸”ë¡œ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ì‚¬ìš©ì ì •ë³´ë¥¼ í…Œì´ë¸”ë¡œ í‘œì‹œí•˜ì—¬ ê°€ë…ì„± í–¥ìƒ
        - ì •ë ¬ ê¸°ëŠ¥: ëª¨ë“  ì»¬ëŸ¼ì— ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
        - í–‰ í´ë¦­: ì‚¬ìš©ì í–‰ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ë¥¼ AJAXë¡œ ë¡œë“œ
    -->
    <div class="table-container">
      <!-- 
        ì‚¬ìš©ì ëª©ë¡ í…Œì´ë¸”
        
        ëª©ì : ì‚¬ìš©ì ëª©ë¡ì„ í…Œì´ë¸”ë¡œ í‘œì‹œ
          - CSS í´ë˜ìŠ¤: user-table (ì‚¬ìš©ì í…Œì´ë¸” ìŠ¤íƒ€ì¼)
          - êµ¬ì¡°: thead (í—¤ë”), tbody (ë³¸ë¬¸)
      -->
      <table class="user-table">
        <!-- 
          í…Œì´ë¸” í—¤ë”
          
          ëª©ì : í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ì œëª© í‘œì‹œ
            - ì •ë ¬ ê¸°ëŠ¥: ëª¨ë“  ì»¬ëŸ¼ì— ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
            - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œì— í™”ì‚´í‘œ í‘œì‹œ (â†‘ ë˜ëŠ” â†“)
        -->
        <thead>
          <tr>
            <!-- 
              No. ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ì ë²ˆí˜¸ë¥¼ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="user_id": ì •ë ¬ í•„ë“œ ì´ë¦„
                - data-current-sort: í˜„ì¬ ì •ë ¬ í•„ë“œ (ë·°ì—ì„œ ì „ë‹¬)
                - data-current-order: í˜„ì¬ ì •ë ¬ ë°©í–¥ (ë·°ì—ì„œ ì „ë‹¬)
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'user_id'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="user_id" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                No.
                {% if sort_field == 'user_id' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ID ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ì ID(ë¡œê·¸ì¸ ID)ë¥¼ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="username": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'username'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="username" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ID
                {% if sort_field == 'username' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ì´ë¦„ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ì ì´ë¦„ì„ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="name": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'name'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="name" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì´ë¦„
                {% if sort_field == 'name' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ìƒë…„ì›”ì¼ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ìì˜ ìƒë…„ì›”ì¼ì„ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="resident_reg_no": ì •ë ¬ í•„ë“œ ì´ë¦„ (ì£¼ë¯¼ë²ˆí˜¸ë¡œ ì •ë ¬)
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'resident_reg_no'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
                - ì£¼ì˜: ì£¼ë¯¼ë²ˆí˜¸ë¡œ ì •ë ¬í•˜ì§€ë§Œ í™”ë©´ì—ëŠ” ìƒë…„ì›”ì¼ë§Œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="resident_reg_no" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ìƒë…„ì›”ì¼
                {% if sort_field == 'resident_reg_no' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ì„±ë³„ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ìì˜ ì„±ë³„ì„ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="gender": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'gender'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="gender" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì„±ë³„
                {% if sort_field == 'gender' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ì „í™”ë²ˆí˜¸ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ìì˜ ì „í™”ë²ˆí˜¸ë¥¼ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="phone": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'phone'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="phone" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì „í™”ë²ˆí˜¸
                {% if sort_field == 'phone' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ì´ë©”ì¼ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ìì˜ ì´ë©”ì¼ì„ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="email": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'email'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="email" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì´ë©”ì¼
                {% if sort_field == 'email' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ì£¼ì†Œ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ìì˜ ì£¼ì†Œë¥¼ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="address": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'address'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="address" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì£¼ì†Œ
                {% if sort_field == 'address' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            
            <!-- 
              ìƒì„±ì¼ì‹œ ì»¬ëŸ¼ (ì •ë ¬ ê°€ëŠ¥)
              
              ëª©ì : ì‚¬ìš©ì ê³„ì • ìƒì„±ì¼ì‹œë¥¼ í‘œì‹œí•˜ê³  ì •ë ¬ ê¸°ëŠ¥ ì œê³µ
                - data-sort-field="created_at": ì •ë ¬ í•„ë“œ ì´ë¦„
                - ì •ë ¬ ë°©í–¥ í‘œì‹œ: í˜„ì¬ ì •ë ¬ í•„ë“œê°€ 'created_at'ì´ë©´ í™”ì‚´í‘œ í‘œì‹œ
            -->
            <th>
              <a href="#" data-sort-field="created_at" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ìƒì„±ì¼ì‹œ
                {% if sort_field == 'created_at' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
          </tr>
        </thead>
        
        <!-- 
          í…Œì´ë¸” ë³¸ë¬¸
          
          ëª©ì : ì‚¬ìš©ì ëª©ë¡ì„ í…Œì´ë¸” í–‰ìœ¼ë¡œ í‘œì‹œ
            - ë°˜ë³µë¬¸: users_with_number ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•˜ë©° ê° ì‚¬ìš©ì ì •ë³´ë¥¼ í–‰ìœ¼ë¡œ í‘œì‹œ
            - ë°ì´í„° í‘œì‹œ: ì‚¬ìš©ìì˜ ê° ì •ë³´ í•„ë“œë¥¼ í…Œì´ë¸” ì…€ë¡œ í‘œì‹œ
            - í–‰ í´ë¦­: í–‰ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ë¥¼ AJAXë¡œ ë¡œë“œ
        -->
        <tbody>
          <!-- 
            ì‚¬ìš©ì ëª©ë¡ ë°˜ë³µë¬¸
            
            ëª©ì : ì‚¬ìš©ì ëª©ë¡ì„ ìˆœíšŒí•˜ë©° í…Œì´ë¸” í–‰ ìƒì„±
              - users_with_number: ë·°ì—ì„œ ì „ë‹¬ëœ ì‚¬ìš©ì ëª©ë¡ (ë²ˆí˜¸ í¬í•¨)
                â†’ ê° í•­ëª©ì€ dict í˜•íƒœ: {'user': Users ê°ì²´, 'number': int, 'birth_date': str}
              - item: í˜„ì¬ ìˆœíšŒ ì¤‘ì¸ í•­ëª©
                â†’ item.user: ì‚¬ìš©ì ê°ì²´ (Users ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤)
                â†’ item.number: ëª©ë¡ ë²ˆí˜¸ (í˜ì´ì§€ë„¤ì´ì…˜ ê³ ë ¤)
                â†’ item.birth_date: ìƒë…„ì›”ì¼ (ì£¼ë¯¼ë²ˆí˜¸ì—ì„œ ì¶”ì¶œí•œ ìƒë…„ì›”ì¼)
          -->
          {% for item in users_with_number %}
            <!-- 
              ì‚¬ìš©ì ì •ë³´ í–‰
              
              ëª©ì : ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í…Œì´ë¸” í–‰ìœ¼ë¡œ í‘œì‹œ
                - data-user-id: ì‚¬ìš©ì ID (JavaScriptì—ì„œ í–‰ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬ì— ì‚¬ìš©)
                - CSS í´ë˜ìŠ¤: user-row (ì‚¬ìš©ì í–‰ ìŠ¤íƒ€ì¼)
                - item.user: ì‚¬ìš©ì ê°ì²´ (Users ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤)
            -->
            <tr data-user-id="{{ item.user.user_id }}" class="user-row{% if item.is_new_user %} new-user-row{% endif %}">
              <!-- 
                ë²ˆí˜¸ ì…€
                
                ëª©ì : ëª©ë¡ ë²ˆí˜¸ í‘œì‹œ (í˜ì´ì§€ë„¤ì´ì…˜ ê³ ë ¤)
                  - {{ item.number }}: í˜ì´ì§€ë„¤ì´ì…˜ì„ ê³ ë ¤í•œ ìˆœë²ˆ
              -->
              <td>{{ item.number }}</td>
              
              <!-- 
                ID ì…€
                
                ëª©ì : ì‚¬ìš©ì ID(ë¡œê·¸ì¸ ID) í‘œì‹œ
                  - {{ item.user.username }}: ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ID
                    â†’ item.user: ì‚¬ìš©ì ê°ì²´
                    â†’ username: ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ID
              -->
              <td>{{ item.user.username }}</td>
              
              <!-- 
                ì´ë¦„ ì…€
                
                ëª©ì : ì‚¬ìš©ì ì´ë¦„ í‘œì‹œ
                  - {{ item.user.name }}: ì‚¬ìš©ì ì´ë¦„
                    â†’ name: ì‚¬ìš©ìì˜ ì´ë¦„
              -->
              <td>{{ item.user.name }}</td>
              
              <!-- 
                ìƒë…„ì›”ì¼ ì…€
                
                ëª©ì : ì‚¬ìš©ìì˜ ìƒë…„ì›”ì¼ í‘œì‹œ
                  - {{ item.birth_date|default:"-" }}: ìƒë…„ì›”ì¼ (ì£¼ë¯¼ë²ˆí˜¸ì—ì„œ ì¶”ì¶œ)
                    â†’ item.birth_date: ì£¼ë¯¼ë²ˆí˜¸ì—ì„œ ì¶”ì¶œí•œ ìƒë…„ì›”ì¼ (ë·°ì—ì„œ ì²˜ë¦¬)
                    â†’ |default:"-": birth_dateê°€ ì—†ìœ¼ë©´ "-" í‘œì‹œ
              -->
              <td>{{ item.birth_date|default:"-" }}</td>
              
              <!-- 
                ì„±ë³„ ì…€
                
                ëª©ì : ì‚¬ìš©ìì˜ ì„±ë³„ì„ í•œê¸€ë¡œ í‘œì‹œ
                  - ì¡°ê±´ë¶€ í‘œì‹œ: item.user.gender == 'M'ì´ë©´ 'ë‚¨', ê·¸ ì™¸ëŠ” 'ì—¬' í‘œì‹œ
                    â†’ gender: ì‚¬ìš©ìì˜ ì„±ë³„ ('M' ë˜ëŠ” 'F')
              -->
              <td>{% if item.user.gender == 'M' %}ë‚¨{% else %}ì—¬{% endif %}</td>
              
              <!-- 
                ì „í™”ë²ˆí˜¸ ì…€ (ë§ˆìŠ¤í‚¹ ì²˜ë¦¬)
                
                ëª©ì : ì‚¬ìš©ì ì „í™”ë²ˆí˜¸ë¥¼ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬í•˜ì—¬ í‘œì‹œ (ê°œì¸ì •ë³´ ë³´í˜¸)
                  - {{ item.user.phone|mask_phone }}: ì‚¬ìš©ì ì „í™”ë²ˆí˜¸ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬
                    â†’ phone: ì‚¬ìš©ìì˜ ì „í™”ë²ˆí˜¸
                    â†’ mask_phone: ì „í™”ë²ˆí˜¸ ë§ˆìŠ¤í‚¹ í•„í„° (010 - ì²« ë²ˆì§¸ ìˆ«ì*** - ****)
              -->
              <td>{{ item.user.phone|mask_phone }}</td>
              
              <!-- 
                ì´ë©”ì¼ ì…€
                
                ëª©ì : ì‚¬ìš©ì ì´ë©”ì¼ í‘œì‹œ
                  - {{ item.user.email }}: ì‚¬ìš©ì ì´ë©”ì¼ ì£¼ì†Œ
                    â†’ email: ì‚¬ìš©ìì˜ ì´ë©”ì¼ ì£¼ì†Œ
              -->
              <td>{{ item.user.email }}</td>
              
              <!-- 
                ì£¼ì†Œ ì…€
                
                ëª©ì : ì‚¬ìš©ì ì£¼ì†Œ í‘œì‹œ (ë™ê¹Œì§€ë§Œ í‘œì‹œ)
                  - ëª©ë¡ì—ì„œëŠ” ì£¼ì†Œì˜ "ë™"ê¹Œì§€ë§Œ í‘œì‹œí•˜ì—¬ ê°„ê²°í•˜ê²Œ í‘œì‹œ
                  - ìƒì„¸ ì •ë³´ì—ì„œëŠ” ì „ì²´ ì£¼ì†Œê°€ í‘œì‹œë¨
                  - ë·°ì—ì„œ ì²˜ë¦¬í•œ address_short ì‚¬ìš©
                  - ì˜ˆ: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45" â†’ "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™"
              -->
              <td>{{ item.address_short|default:"-" }}</td>
              
              <!-- 
                ìƒì„±ì¼ì‹œ ì…€
                
                ëª©ì : ì‚¬ìš©ì ê³„ì • ìƒì„±ì¼ì‹œ í‘œì‹œ
                  - {{ item.user.created_at|date:"Y.m.d" }}: ì‚¬ìš©ì ê³„ì • ìƒì„±ì¼
                    â†’ created_at: ì‚¬ìš©ì ê³„ì • ìƒì„±ì¼
                    â†’ |date:"Y.m.d": ë‚ ì§œ í˜•ì‹ì„ "YYYY.MM.DD" í˜•ì‹ìœ¼ë¡œ ë³€í™˜
                    â†’ ì˜ˆ: "2024.01.15"
              -->
              <td>{{ item.user.created_at|date:"Y.m.d" }}</td>
            </tr>
          {% empty %}
          <!-- 
            ë¹ˆ ëª©ë¡ ì²˜ë¦¬
            
            ëª©ì : ì‚¬ìš©ì ë°ì´í„°ê°€ ì—†ì„ ë•Œ ë©”ì‹œì§€ í‘œì‹œ
              - empty: ë°˜ë³µë¬¸ì—ì„œ ë°˜ë³µí•  í•­ëª©ì´ ì—†ì„ ë•Œ ì‹¤í–‰
              - colspan="9": 9ê°œ ì»¬ëŸ¼ì„ ë³‘í•©í•˜ì—¬ ë©”ì‹œì§€ í‘œì‹œ
              - CSS í´ë˜ìŠ¤: no-data (ë°ì´í„° ì—†ìŒ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼)
          -->
          <tr>
            <td colspan="9" class="no-data">ì‚¬ìš©ì ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- 
      í˜ì´ì§€ë„¤ì´ì…˜ ì„¹ì…˜
      
      ëª©ì : ë§ì€ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ í‘œì‹œí•˜ê³  í˜ì´ì§€ ì´ë™ ê¸°ëŠ¥ ì œê³µ
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ë§ì€ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ê°€ë…ì„± í–¥ìƒ
        - íŒŒë¼ë¯¸í„° ìœ ì§€: ì •ë ¬ í•„ë“œ, ì •ë ¬ ë°©í–¥, ê²€ìƒ‰ ì¡°ê±´, ê²€ìƒ‰ì–´ë¥¼ URL íŒŒë¼ë¯¸í„°ë¡œ ìœ ì§€
        - AJAX ì²˜ë¦¬: JavaScriptì—ì„œ AJAXë¡œ í˜ì´ì§€ë„¤ì´ì…˜ ì²˜ë¦¬í•˜ì—¬ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ëª©ë¡ ì—…ë°ì´íŠ¸
      
      ì£¼ìš” ê¸°ëŠ¥:
        - ì²« í˜ì´ì§€ë¡œ ì´ë™: Â« ë²„íŠ¼
        - ì´ì „ í˜ì´ì§€ë¡œ ì´ë™: < ë²„íŠ¼
        - í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ: í˜„ì¬ í˜ì´ì§€ Â±3 ë²”ìœ„ì˜ í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ (í˜„ì¬ í˜ì´ì§€ê°€ 1ì¼ ë•ŒëŠ” 4ê¹Œì§€ í‘œì‹œ)
        - ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™: > ë²„íŠ¼
        - ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™: Â» ë²„íŠ¼
      
      ì¡°ê±´ë¶€ í‘œì‹œ:
        - ì „ì²´ í˜ì´ì§€ê°€ 1ê°œì¼ ë•ŒëŠ” í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ì„ í‘œì‹œí•˜ì§€ ì•ŠìŒ
    -->
    {% if page_obj.paginator.num_pages > 1 %}
    <div class="pagination">
      <!-- 
        ì´ì „ í˜ì´ì§€ ë²„íŠ¼ ì˜ì—­
        
        ëª©ì : ì²« í˜ì´ì§€ë¡œ ì´ë™ ë° ì´ì „ í˜ì´ì§€ë¡œ ì´ë™ ë²„íŠ¼ í‘œì‹œ
          - page_obj.has_previous: ì´ì „ í˜ì´ì§€ê°€ ìˆëŠ”ì§€ í™•ì¸
          - ì´ì „ í˜ì´ì§€ê°€ ìˆìœ¼ë©´ ë§í¬ ë²„íŠ¼ í‘œì‹œ
          - ì´ì „ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ í‘œì‹œ
      -->
      {% if page_obj.has_previous %}
        <!-- 
          ì²« í˜ì´ì§€ë¡œ ì´ë™ ë§í¬
          
          ëª©ì : ì²« í˜ì´ì§€(1í˜ì´ì§€)ë¡œ ì´ë™
            - href: ?page=1 + ì •ë ¬ íŒŒë¼ë¯¸í„° + ê²€ìƒ‰ íŒŒë¼ë¯¸í„°
            - CSS í´ë˜ìŠ¤: page-link (í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: Â« (ì²« í˜ì´ì§€ ê¸°í˜¸)
        -->
        <a href="#" class="page-link" data-page="1" data-sort="{{ sort_field }}" data-order="{{ sort_order }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">Â«</a>
        
        <!-- 
          ì´ì „ í˜ì´ì§€ë¡œ ì´ë™ ë§í¬
          
          ëª©ì : í˜„ì¬ í˜ì´ì§€ì˜ ì´ì „ í˜ì´ì§€ë¡œ ì´ë™
            - href: # (JavaScriptë¡œ ì²˜ë¦¬)
            - data-page: ì´ì „ í˜ì´ì§€ ë²ˆí˜¸
            - page_obj.previous_page_number: ì´ì „ í˜ì´ì§€ ë²ˆí˜¸
            - CSS í´ë˜ìŠ¤: page-link (í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: < (ì´ì „ í˜ì´ì§€ ê¸°í˜¸)
        -->
        <a href="#" class="page-link" data-page="{{ page_obj.previous_page_number }}" data-sort="{{ sort_field }}" data-order="{{ sort_order }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}"><</a>
      {% else %}
        <!-- 
          ë¹„í™œì„±í™”ëœ ì²« í˜ì´ì§€ ë²„íŠ¼
          
          ëª©ì : ì²« í˜ì´ì§€ì— ìˆì„ ë•Œ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ í‘œì‹œ
            - CSS í´ë˜ìŠ¤: page-link disabled (ë¹„í™œì„±í™”ëœ í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: Â« (ì²« í˜ì´ì§€ ê¸°í˜¸)
        -->
        <span class="page-link disabled">Â«</span>
        
        <!-- 
          ë¹„í™œì„±í™”ëœ ì´ì „ í˜ì´ì§€ ë²„íŠ¼
          
          ëª©ì : ì²« í˜ì´ì§€ì— ìˆì„ ë•Œ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ í‘œì‹œ
            - CSS í´ë˜ìŠ¤: page-link disabled (ë¹„í™œì„±í™”ëœ í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: < (ì´ì „ í˜ì´ì§€ ê¸°í˜¸)
        -->
        <span class="page-link disabled"><</span>
      {% endif %}

      <!-- 
        í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ ì˜ì—­
        
        ëª©ì : í˜ì´ì§€ ë²ˆí˜¸ë¥¼ í‘œì‹œí•˜ê³  í˜„ì¬ í˜ì´ì§€ë¥¼ í•˜ì´ë¼ì´íŠ¸
          - page_obj.paginator.num_pages: ì „ì²´ í˜ì´ì§€ ìˆ˜
          - page_obj.paginator.page_range: í˜ì´ì§€ ë²ˆí˜¸ ë²”ìœ„ (1ë¶€í„° ì „ì²´ í˜ì´ì§€ ìˆ˜ê¹Œì§€)
          - í˜„ì¬ í˜ì´ì§€ Â±3 ë²”ìœ„ì˜ í˜ì´ì§€ ë²ˆí˜¸ë§Œ í‘œì‹œ (ë„ˆë¬´ ë§ì€ í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ ë°©ì§€)
      -->
      {% if page_obj.paginator.num_pages > 0 %}
        <!-- 
          í˜ì´ì§€ ë²ˆí˜¸ ë°˜ë³µë¬¸
          
          ëª©ì : í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ìˆœíšŒí•˜ë©° ë§í¬ ë˜ëŠ” í˜„ì¬ í˜ì´ì§€ í‘œì‹œ
            - num: í˜„ì¬ ìˆœíšŒ ì¤‘ì¸ í˜ì´ì§€ ë²ˆí˜¸
        -->
        {% for num in page_obj.paginator.page_range %}
          <!-- 
            í˜„ì¬ í˜ì´ì§€ í‘œì‹œ
            
            ëª©ì : í˜„ì¬ í˜ì´ì§€ë¥¼ í•˜ì´ë¼ì´íŠ¸í•˜ì—¬ í‘œì‹œ
              - page_obj.number == num: í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
              - CSS í´ë˜ìŠ¤: page-link active (í˜„ì¬ í˜ì´ì§€ ìŠ¤íƒ€ì¼)
          -->
          {% if page_obj.number == num %}
            <span class="page-link active">{{ num }}</span>
          <!-- 
            ì¸ì ‘ í˜ì´ì§€ ë²ˆí˜¸ ë§í¬
            
            ëª©ì : í˜„ì¬ í˜ì´ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•­ìƒ 4ê°œì˜ í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ë§í¬ë¡œ í‘œì‹œ
              - í˜„ì¬ í˜ì´ì§€ê°€ 1ì¼ ë•Œ: 1, 2, 3, 4 í‘œì‹œ
              - í˜„ì¬ í˜ì´ì§€ê°€ 2ì¼ ë•Œ: 1, 2, 3, 4 í‘œì‹œ
              - í˜„ì¬ í˜ì´ì§€ê°€ 3 ì´ìƒì¼ ë•Œ: í˜„ì¬ í˜ì´ì§€ - 1ë¶€í„° í˜„ì¬ í˜ì´ì§€ + 2ê¹Œì§€ í‘œì‹œ
              - ì •ë ¬ ë° ê²€ìƒ‰ íŒŒë¼ë¯¸í„° ìœ ì§€: sort, order, search_type, search_keyword íŒŒë¼ë¯¸í„°ë¥¼ URLì— í¬í•¨
          -->
          {% elif page_obj.number == 1 and num <= 4 %}
            <a href="#" class="page-link" data-page="{{ num }}" data-sort="{{ sort_field }}" data-order="{{ sort_order }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">{{ num }}</a>
          {% elif page_obj.number > 1 and num >= page_obj.number|add:'-1' and num <= page_obj.number|add:'2' %}
            <a href="#" class="page-link" data-page="{{ num }}" data-sort="{{ sort_field }}" data-order="{{ sort_order }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">{{ num }}</a>
          {% endif %}
        {% endfor %}
      {% else %}
        <!-- 
          í˜ì´ì§€ê°€ ì—†ì„ ë•Œ ê¸°ë³¸ í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ
          
          ëª©ì : í˜ì´ì§€ê°€ ì—†ì„ ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ 1í˜ì´ì§€ í‘œì‹œ
            - CSS í´ë˜ìŠ¤: page-link active (í˜„ì¬ í˜ì´ì§€ ìŠ¤íƒ€ì¼)
        -->
        <span class="page-link active">1</span>
      {% endif %}

      <!-- 
        ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼ ì˜ì—­
        
        ëª©ì : ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™ ë° ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™ ë²„íŠ¼ í‘œì‹œ
          - page_obj.has_next: ë‹¤ìŒ í˜ì´ì§€ê°€ ìˆëŠ”ì§€ í™•ì¸
          - ë‹¤ìŒ í˜ì´ì§€ê°€ ìˆìœ¼ë©´ ë§í¬ ë²„íŠ¼ í‘œì‹œ
          - ë‹¤ìŒ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ í‘œì‹œ
      -->
      {% if page_obj.has_next %}
        <!-- 
          ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™ ë§í¬
          
          ëª©ì : í˜„ì¬ í˜ì´ì§€ì˜ ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
            - href: ?page={{ page_obj.next_page_number }} + ì •ë ¬ íŒŒë¼ë¯¸í„° + ê²€ìƒ‰ íŒŒë¼ë¯¸í„°
            - page_obj.next_page_number: ë‹¤ìŒ í˜ì´ì§€ ë²ˆí˜¸
            - CSS í´ë˜ìŠ¤: page-link (í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: > (ë‹¤ìŒ í˜ì´ì§€ ê¸°í˜¸)
        -->
        <a href="#" class="page-link" data-page="{{ page_obj.next_page_number }}" data-sort="{{ sort_field }}" data-order="{{ sort_order }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">></a>
        
        <!-- 
          ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™ ë§í¬
          
          ëª©ì : ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™
            - href: # (JavaScriptë¡œ ì²˜ë¦¬)
            - data-page: ë§ˆì§€ë§‰ í˜ì´ì§€ ë²ˆí˜¸
            - page_obj.paginator.num_pages: ì „ì²´ í˜ì´ì§€ ìˆ˜ (ë§ˆì§€ë§‰ í˜ì´ì§€ ë²ˆí˜¸)
            - CSS í´ë˜ìŠ¤: page-link (í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: Â» (ë§ˆì§€ë§‰ í˜ì´ì§€ ê¸°í˜¸)
        -->
        <a href="#" class="page-link" data-page="{{ page_obj.paginator.num_pages }}" data-sort="{{ sort_field }}" data-order="{{ sort_order }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">Â»</a>
      {% else %}
        <!-- 
          ë¹„í™œì„±í™”ëœ ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼
          
          ëª©ì : ë§ˆì§€ë§‰ í˜ì´ì§€ì— ìˆì„ ë•Œ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ í‘œì‹œ
            - CSS í´ë˜ìŠ¤: page-link disabled (ë¹„í™œì„±í™”ëœ í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: > (ë‹¤ìŒ í˜ì´ì§€ ê¸°í˜¸)
        -->
        <span class="page-link disabled">></span>
        
        <!-- 
          ë¹„í™œì„±í™”ëœ ë§ˆì§€ë§‰ í˜ì´ì§€ ë²„íŠ¼
          
          ëª©ì : ë§ˆì§€ë§‰ í˜ì´ì§€ì— ìˆì„ ë•Œ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ í‘œì‹œ
            - CSS í´ë˜ìŠ¤: page-link disabled (ë¹„í™œì„±í™”ëœ í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼)
            - í…ìŠ¤íŠ¸: Â» (ë§ˆì§€ë§‰ í˜ì´ì§€ ê¸°í˜¸)
        -->
        <span class="page-link disabled">Â»</span>
      {% endif %}
    </div>
    {% endif %}

    <!-- 
      ì„ íƒ ì‚¬ìš©ì ìƒì„¸ì •ë³´ ì„¹ì…˜
      
      ëª©ì : ì„ íƒëœ ì‚¬ìš©ìì˜ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì„¹ì…˜
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : í…Œì´ë¸” í–‰ í´ë¦­ ì‹œ í•´ë‹¹ ì‚¬ìš©ìì˜ ìƒì„¸ ì •ë³´ë¥¼ AJAXë¡œ ë¡œë“œí•˜ì—¬ í‘œì‹œ
        - ë°ì´í„° í‘œì‹œ: ì‚¬ìš©ìì˜ ê¸°ë³¸ ì •ë³´, ì—°ë½ì²˜, ì£¼ì†Œ, ì¦ê²¨ì°¾ê¸° ë³‘ì› ë“±ì„ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ í‘œì‹œ
        - ì¡°ê±´ë¶€ í‘œì‹œ: selected_userê°€ ìˆì„ ë•Œë§Œ ìƒì„¸ ì •ë³´ í‘œì‹œ, ì—†ìœ¼ë©´ í”Œë ˆì´ìŠ¤í™€ë” í‘œì‹œ
      
      ë™ì‘ ë°©ì‹:
        1. selected_user ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
        2. selected_userê°€ ìˆìœ¼ë©´ ìƒì„¸ ì •ë³´ ì„¹ì…˜ í‘œì‹œ
        3. selected_userê°€ ì—†ìœ¼ë©´ í”Œë ˆì´ìŠ¤í™€ë” ì„¹ì…˜ í‘œì‹œ (í–‰ í´ë¦­ ì‹œ AJAXë¡œ ìƒì„¸ ì •ë³´ ë¡œë“œ)
    -->
    {% if selected_user %}
    <!-- 
      ìƒì„¸ ì •ë³´ ì„¹ì…˜ (ì‚¬ìš©ìê°€ ì„ íƒëœ ê²½ìš°)
      
      ëª©ì : ì„ íƒëœ ì‚¬ìš©ìì˜ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œ
        - CSS í´ë˜ìŠ¤: 
          â†’ user-detail-section: ìƒì„¸ ì •ë³´ ì„¹ì…˜ ìŠ¤íƒ€ì¼
          â†’ card shadow-sm: ì¹´ë“œ ìŠ¤íƒ€ì¼ ë° ê·¸ë¦¼ì íš¨ê³¼
        - ë‚´ìš©: ì‚¬ìš©ìì˜ ê° ì •ë³´ í•„ë“œë¥¼ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ í‘œì‹œ
    -->
    <div class="user-detail-section card shadow-sm">
      <div class="card-body">
        <h3 class="detail-title card-title border-bottom pb-3 mb-4">ì„ íƒ ì‚¬ìš©ì ìƒì„¸ì •ë³´</h3>
        <div class="detail-grid row g-3">
          <!-- 
            ì´ë¦„ ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ì ì´ë¦„ì„ í‘œì‹œ
              - col-md-6: ì¤‘ê°„ í™”ë©´ í¬ê¸° ì´ìƒì—ì„œ 6ì»¬ëŸ¼ (50% ë„ˆë¹„)
              - detail-label: "ì´ë¦„" (ë¼ë²¨)
              - detail-value: {{ selected_user.name }} (ì‚¬ìš©ì ì´ë¦„)
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">ì´ë¦„</span>
              <div class="detail-value">{{ selected_user.name }}</div>
            </div>
          </div>
          
          <!-- 
            ID ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ì ID(ë¡œê·¸ì¸ ID)ë¥¼ í‘œì‹œ
              - detail-label: "id" (ë¼ë²¨)
              - detail-value: {{ selected_user.username }} (ì‚¬ìš©ì ë¡œê·¸ì¸ ID)
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">id</span>
              <div class="detail-value">{{ selected_user.username }}</div>
            </div>
          </div>
          
          <!-- 
            ìƒë…„ì›”ì¼ ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ìì˜ ìƒë…„ì›”ì¼ì„ í‘œì‹œ
              - detail-label: "ìƒë…„ì›”ì¼" (ë¼ë²¨)
              - detail-value: {{ birth_date|default:"-" }} (ìƒë…„ì›”ì¼)
                â†’ birth_date: ì£¼ë¯¼ë²ˆí˜¸ì—ì„œ ì¶”ì¶œí•œ ìƒë…„ì›”ì¼ (ë·°ì—ì„œ ì „ë‹¬)
                â†’ |default:"-": birth_dateê°€ ì—†ìœ¼ë©´ "-" í‘œì‹œ
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">ìƒë…„ì›”ì¼</span>
              <div class="detail-value">{{ birth_date|default:"-" }}</div>
            </div>
          </div>
          
          <!-- 
            ì„±ë³„ ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ìì˜ ì„±ë³„ì„ í•œê¸€ë¡œ í‘œì‹œ
              - detail-label: "ì„±ë³„" (ë¼ë²¨)
              - detail-value: ì¡°ê±´ë¶€ í‘œì‹œ
                â†’ selected_user.gender == 'M'ì´ë©´ 'ë‚¨' í‘œì‹œ
                â†’ ê·¸ ì™¸ëŠ” 'ì—¬' í‘œì‹œ
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">ì„±ë³„</span>
              <div class="detail-value">{% if selected_user.gender == 'M' %}ë‚¨{% else %}ì—¬{% endif %}</div>
            </div>
          </div>
          
          <!-- 
            ì „í™”ë²ˆí˜¸ ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ì ì „í™”ë²ˆí˜¸ë¥¼ í‘œì‹œ
              - detail-label: "ì „í™”ë²ˆí˜¸" (ë¼ë²¨)
              - detail-value: {{ selected_user.phone }} (ì‚¬ìš©ì ì „í™”ë²ˆí˜¸)
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">ì „í™”ë²ˆí˜¸</span>
              <div class="detail-value">{{ selected_user.phone }}</div>
            </div>
          </div>
          
          <!-- 
            ì£¼ì†Œ ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ì ì£¼ì†Œë¥¼ í‘œì‹œ
              - detail-label: "ì£¼ì†Œ" (ë¼ë²¨)
              - detail-value: {{ address_formatted|default:selected_user.address }} (í¬ë§·íŒ…ëœ ì£¼ì†Œ ë˜ëŠ” ì›ë³¸ ì£¼ì†Œ)
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">ì£¼ì†Œ</span>
              <div class="detail-value">{{ address_formatted|default:selected_user.address }}</div>
            </div>
          </div>
          
          <!-- 
            ì´ë©”ì¼ ì •ë³´ í•­ëª©
            
            ëª©ì : ì‚¬ìš©ì ì´ë©”ì¼ ì£¼ì†Œë¥¼ í‘œì‹œ
              - detail-label: "email" (ë¼ë²¨)
              - detail-value: {{ selected_user.email }} (ì‚¬ìš©ì ì´ë©”ì¼ ì£¼ì†Œ)
          -->
          <div class="col-md-6">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">email</span>
              <div class="detail-value">{{ selected_user.email }}</div>
            </div>
          </div>
          
          <!-- 
            ì¦ê²¨ì°¾ê¸° ë³‘ì› ì •ë³´ í•­ëª© (ì¡°ê±´ë¶€ í‘œì‹œ, ì „ì²´ ë„ˆë¹„)
            
            ëª©ì : ì‚¬ìš©ìê°€ ì¦ê²¨ì°¾ê¸°í•œ ë³‘ì› ëª©ë¡ì„ í‘œì‹œ
              - ì¡°ê±´: favorite_hospitalsê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ í‘œì‹œ
              - col-md-12: ì¤‘ê°„ í™”ë©´ í¬ê¸° ì´ìƒì—ì„œ 12ì»¬ëŸ¼ (100% ë„ˆë¹„, ì „ì²´ ë„ˆë¹„)
              - detail-label: "ì¦ê²¨ì°¾ê¸° ë³‘ì›" (ë¼ë²¨)
              - detail-value: ì¦ê²¨ì°¾ê¸° ë³‘ì› ëª©ë¡ ë˜ëŠ” "ì—†ìŒ"
                â†’ favorite_hospitals: ì‚¬ìš©ìê°€ ì¦ê²¨ì°¾ê¸°í•œ ë³‘ì› ëª©ë¡ (ë¦¬ìŠ¤íŠ¸)
                  â†’ ìˆìœ¼ë©´: ë³‘ì›ëª…ì„ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
                  â†’ ì—†ìœ¼ë©´: "ì—†ìŒ" í‘œì‹œ
                â†’ |join:", ": ë¦¬ìŠ¤íŠ¸ì˜ ê° í•­ëª©ì„ ì‰¼í‘œì™€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ë¬¸ìì—´ë¡œ ë³€í™˜
          -->
          <div class="col-md-12">
            <div class="detail-item">
              <span class="detail-label d-block fw-bold">ì¦ê²¨ì°¾ê¸° ë³‘ì›</span>
              <div class="detail-value">
                {% if favorite_hospitals %}
                  {{ favorite_hospitals|join:", " }}
                {% else %}
                  ì—†ìŒ
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% else %}
    <!-- 
      í”Œë ˆì´ìŠ¤í™€ë” ì„¹ì…˜ (ì‚¬ìš©ìê°€ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš°)
      
      ëª©ì : ì‚¬ìš©ìê°€ ì„ íƒë˜ì§€ ì•Šì•˜ì„ ë•Œ í”Œë ˆì´ìŠ¤í™€ë” í‘œì‹œ
        - CSS í´ë˜ìŠ¤: 
          â†’ user-detail-section: ìƒì„¸ ì •ë³´ ì„¹ì…˜ ìŠ¤íƒ€ì¼
          â†’ placeholder-hidden: í”Œë ˆì´ìŠ¤í™€ë” ìˆ¨ê¹€ ìŠ¤íƒ€ì¼ (ë ˆì´ì•„ì›ƒ ìœ ì§€ë¥¼ ìœ„í•´ ê³µê°„ë§Œ ì°¨ì§€)
        - ë™ì‘: í…Œì´ë¸” í–‰ í´ë¦­ ì‹œ AJAXë¡œ ìƒì„¸ ì •ë³´ë¥¼ ë¡œë“œí•˜ì—¬ ì´ ì„¹ì…˜ì— í‘œì‹œ
        - ë ˆì´ì•„ì›ƒ ìœ ì§€: í”Œë ˆì´ìŠ¤í™€ë”ë¡œ ê³µê°„ì„ ì°¨ì§€í•˜ì—¬ í˜ì´ì§€ë„¤ì´ì…˜ ì‹œ ë ˆì´ì•„ì›ƒì´ ê¹¨ì§€ì§€ ì•Šë„ë¡ í•¨
    -->
    <div class="user-detail-section placeholder-hidden"></div>
    {% endif %}
  </div>

  <!-- 
    JavaScript íŒŒì¼ ë¡œë“œ
    
    ëª©ì : í˜ì´ì§€ì˜ ë™ì  ê¸°ëŠ¥ì„ ì œê³µí•˜ê¸° ìœ„í•œ JavaScript íŒŒì¼ ë¡œë“œ
      - ë¡œë“œ ìˆœì„œ: admin_common.jsë¥¼ ë¨¼ì € ë¡œë“œí•œ í›„ user_list.jsë¥¼ ë¡œë“œ
      - admin_common.js: ê´€ë¦¬ì íŒ¨ë„ ê³µí†µ JavaScript í•¨ìˆ˜ë“¤
        â†’ í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬, ê²€ìƒ‰ ë“± ê³µí†µ ê¸°ëŠ¥
      - user_list.js: ì‚¬ìš©ì ëª©ë¡ í˜ì´ì§€ ì „ìš© JavaScript í•¨ìˆ˜ë“¤
        â†’ ì‚¬ìš©ì ì„ íƒ, í…Œì´ë¸” í–‰ í´ë¦­ ì´ë²¤íŠ¸ ë“±
  -->
  <script src="{% static 'admin_panel/js/admin_common.js' %}"></script>
  <script src="{% static 'admin_panel/js/user_list.js' %}"></script>
</body>
</html>
