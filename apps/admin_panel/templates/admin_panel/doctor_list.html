<!-- 
  ì˜ì‚¬ ëª©ë¡ í˜ì´ì§€ í…œí”Œë¦¿
  
  ëª©ì : ì˜ì‚¬ ëª©ë¡ì„ í‘œì‹œí•˜ê³  ê²€ìƒ‰, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê´€ë¦¬ì í˜ì´ì§€
    - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ê´€ë¦¬ìê°€ ì˜ì‚¬ ëª©ë¡ì„ í™•ì¸í•˜ê³  ê²€ìƒ‰, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•¨
    - ë°ì´í„° ê´€ë¦¬: ì˜ì‚¬ ì •ë³´ë¥¼ í…Œì´ë¸”ë¡œ í‘œì‹œí•˜ê³  ìƒì„¸ ì •ë³´ í™•ì¸
    - ê¸°ëŠ¥ ì œê³µ: ê²€ìƒ‰, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜, ìƒì„¸ ì •ë³´ í‘œì‹œ
  
  ì£¼ìš” ê¸°ëŠ¥:
    - ì˜ì‚¬ ëª©ë¡ í‘œì‹œ: ì „ì²´ ì˜ì‚¬ ëª©ë¡ì„ í…Œì´ë¸”ë¡œ í‘œì‹œ
    - ê²€ìƒ‰ ê¸°ëŠ¥: ì´ë¦„, ì˜ì‚¬ID, ë©´í—ˆë²ˆí˜¸, ì „ê³µê³¼, ë³‘ì›ëª…ìœ¼ë¡œ ê²€ìƒ‰ ê°€ëŠ¥
    - ì •ë ¬ ê¸°ëŠ¥: No., ì˜ì‚¬ID, ì´ë¦„, ì „ê³µê³¼, ë©´í—ˆë²ˆí˜¸, ì£¼ê·¼ë¬´ ë³‘ì›, ì´ë©”ì¼, ìŠ¹ì¸ìƒíƒœ, ê°€ì…ì¼ë¡œ ì •ë ¬ ê°€ëŠ¥
    - í˜ì´ì§€ë„¤ì´ì…˜: ë§ì€ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ í‘œì‹œ
    - ìƒì„¸ ì •ë³´ í‘œì‹œ: ì˜ì‚¬ í–‰ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ë¥¼ AJAXë¡œ ë¡œë“œí•˜ì—¬ í‘œì‹œ
  
  ê´€ë ¨ íŒŒì¼:
    - CSS: admin_common.css, doctor_list.css
    - JavaScript: admin_common.js, doctor_list.js
    - ìƒì„¸ ì •ë³´ í…œí”Œë¦¿: doctor_list_detail.html (AJAXë¡œ ë¡œë“œ)
-->
{% load static %}
{% load masking_filters %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- 
    HTML ë¬¸ì„œ ë©”íƒ€ ì •ë³´
    
    ëª©ì : ë¬¸ì„œì˜ ê¸°ë³¸ ì •ë³´ ë° ì„¤ì •
      - charset: UTF-8 ì¸ì½”ë”© ì„¤ì • (í•œê¸€ ì§€ì›)
      - viewport: ë°˜ì‘í˜• ë””ìì¸ì„ ìœ„í•œ ë·°í¬íŠ¸ ì„¤ì •
      - title: ë¸Œë¼ìš°ì € íƒ­ì— í‘œì‹œë  í˜ì´ì§€ ì œëª©
  -->
  <meta charset="UTF-8">
  <!-- 
    ë·°í¬íŠ¸ ì„¤ì •
    
    ëª©ì : ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì˜¬ë°”ë¥¸ í™”ë©´ í¬ê¸°ë¡œ í‘œì‹œë˜ë„ë¡ ì„¤ì •
      - width=device-width: ê¸°ê¸°ì˜ ì‹¤ì œ ë„ˆë¹„ì— ë§ì¶¤
      - initial-scale=1.0: ì´ˆê¸° í™•ëŒ€/ì¶•ì†Œ ë¹„ìœ¨ 100%
      - minimum-scale=0.5: ìµœì†Œ í™•ëŒ€/ì¶•ì†Œ ë¹„ìœ¨ 50%
      - maximum-scale=2.0: ìµœëŒ€ í™•ëŒ€/ì¶•ì†Œ ë¹„ìœ¨ 200%
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0">
  <title>ì˜ì‚¬ ëª©ë¡ - CareBridge ê´€ë¦¬ì</title>
  <!-- Favicon ì„¤ì • -->
  <link rel="icon" href="{% static 'core/img/favicon.png' %}" type="image/png">
  
  <!-- 
    CSS íŒŒì¼ ë¡œë“œ
    
    ëª©ì : í˜ì´ì§€ ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•œ CSS íŒŒì¼ ë¡œë“œ
      - admin_common.css: ê´€ë¦¬ì íŒ¨ë„ ê³µí†µ ìŠ¤íƒ€ì¼
      - doctor_list.css: ì˜ì‚¬ ëª©ë¡ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼
  -->
  <link rel="stylesheet" href="{% static 'admin_panel/css/admin_common.css' %}">
  <link rel="stylesheet" href="{% static 'admin_panel/css/doctor_list.css' %}">
</head>
<body>
  {% comment %}
    í—¤ë” ì„¹ì…˜
    
    ëª©ì : í˜ì´ì§€ ìƒë‹¨ì— ë¡œê³ ì™€ ì‚¬ìš©ì ì •ë³´, ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ í‘œì‹œ
      - ë¡œê³ : CareBridge ë¡œê³  ì´ë¯¸ì§€ ë° ëŒ€ì‹œë³´ë“œ ë§í¬
      - ì‚¬ìš©ì ì •ë³´: ë¡œê·¸ì¸í•œ ê´€ë¦¬ì ì´ë¦„ í‘œì‹œ
      - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼: ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ ì œê³µ
      - ê³µí†µ í—¤ë” í…œí”Œë¦¿ ì‚¬ìš©: core/header.html
  {% endcomment %}
  {% include 'core/_header.html' %}

  <!-- 
    ë©”ì¸ ì»¨í…Œì´ë„ˆ
    
    ëª©ì : í˜ì´ì§€ì˜ ì£¼ìš” ë‚´ìš©ì„ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ
      - CSS í´ë˜ìŠ¤: container (ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼)
      - ë‚´ìš©: íƒ­, ê²€ìƒ‰ ì„¹ì…˜, ëª©ë¡, í˜ì´ì§€ë„¤ì´ì…˜, ìƒì„¸ ì •ë³´
  -->
  <div class="container">
    <!-- 
      ìƒë‹¨ íƒ­ ë©”ë‰´
      
      ëª©ì : ê´€ë¦¬ì íŒ¨ë„ì˜ ê° í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” íƒ­ ë©”ë‰´
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ê´€ë¦¬ìê°€ ì‰½ê²Œ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ í•¨
        - í˜„ì¬ í˜ì´ì§€ í‘œì‹œ: active í´ë˜ìŠ¤ë¡œ í˜„ì¬ í˜ì´ì§€ í‘œì‹œ
    -->
    <div class="tabs">
      <!-- 
        ì‚¬ìš©ìëª©ë¡ íƒ­
        
        ëª©ì : ì‚¬ìš©ì ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'user_list' %} - ì‚¬ìš©ì ëª©ë¡ URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'user_list' %}" class="tab">ì‚¬ìš©ìëª©ë¡</a>
      
      <!-- 
        ì˜ì‚¬ëª©ë¡ íƒ­ (í˜„ì¬ í˜ì´ì§€)
        
        ëª©ì : ì˜ì‚¬ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™ (í˜„ì¬ í˜ì´ì§€)
          - href: {% url 'doctor_list' %} - ì˜ì‚¬ ëª©ë¡ URL
          - CSS í´ë˜ìŠ¤: tab active (íƒ­ ìŠ¤íƒ€ì¼ + í˜„ì¬ í˜ì´ì§€ í‘œì‹œ)
      -->
      <a href="{% url 'doctor_list' %}" class="tab active">ì˜ì‚¬ëª©ë¡</a>
      
      <!-- 
        ë³‘ì›ì •ë³´ íƒ­
        
        ëª©ì : ë³‘ì› ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'hospital_list' %} - ë³‘ì› ì •ë³´ URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'hospital_list' %}" class="tab">ë³‘ì›ì •ë³´</a>
      
      <!-- 
        ìŠ¹ì¸ëŒ€ê¸° íƒ­
        
        ëª©ì : ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'approval_pending' %} - ìŠ¹ì¸ ëŒ€ê¸° URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'approval_pending' %}" class="tab">ìŠ¹ì¸ëŒ€ê¸°</a>
      
      <!-- 
        1:1ë¬¸ì˜ê´€ë¦¬ íƒ­
        
        ëª©ì : 1:1 ë¬¸ì˜ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™
          - href: {% url 'qna_list' %} - 1:1 ë¬¸ì˜ ëª©ë¡ URL
          - CSS í´ë˜ìŠ¤: tab (íƒ­ ìŠ¤íƒ€ì¼)
      -->
      <a href="{% url 'qna_list' %}" class="tab">1:1ë¬¸ì˜ê´€ë¦¬</a>
    </div>

    <!-- 
      ê²€ìƒ‰ ì„¹ì…˜
      
      ëª©ì : ì˜ì‚¬ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì„¹ì…˜
        - ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ : ê´€ë¦¬ìê°€ ì›í•˜ëŠ” ì˜ì‚¬ë¥¼ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ
        - ê²€ìƒ‰ ì¡°ê±´: ì´ë¦„, ì˜ì‚¬ID, ë©´í—ˆë²ˆí˜¸, ì „ê³µê³¼, ë³‘ì›ëª…ìœ¼ë¡œ ê²€ìƒ‰ ê°€ëŠ¥
        - ë”ë¯¸ ë°ì´í„° ê´€ë¦¬: ê°œë°œ í™˜ê²½ì—ì„œ ë”ë¯¸ ë°ì´í„° ìƒì„±/ì‚­ì œ ê¸°ëŠ¥ ì œê³µ
    -->
    <div class="search-section">
      <!-- 
        ë””ë²„ê¹… ì •ë³´ (ê°œë°œ í™˜ê²½ìš©)
        
        ëª©ì : ê²€ìƒ‰ ê²°ê³¼ì— ëŒ€í•œ ë””ë²„ê¹… ì •ë³´ í‘œì‹œ (ê°œë°œ í™˜ê²½ì—ì„œ ìœ ìš©)
          - ì¡°ê±´: search_typeê³¼ search_keywordê°€ ëª¨ë‘ ìˆì„ ë•Œë§Œ í‘œì‹œ
          - í‘œì‹œ ì •ë³´:
            â†’ ì „ì²´ ì˜ì‚¬ ìˆ˜: {{ total_doctors_count }} - ì „ì²´ ì˜ì‚¬ ìˆ˜
            â†’ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜: {{ search_result_count }} - ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” ì˜ì‚¬ ìˆ˜
            â†’ ê²€ìƒ‰ì–´: "{{ search_keyword }}" - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²€ìƒ‰ì–´
          - ì£¼ì˜: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì œê±° ê°€ëŠ¥
      -->
      {% if search_type and search_keyword %}
      <div style="margin-bottom: 10px; padding: 8px; background: #f0f0f0; border-radius: 4px; font-size: 12px;">
        ì „ì²´ ì˜ì‚¬: {{ total_doctors_count }}ëª… | ê²€ìƒ‰ ê²°ê³¼: {{ search_result_count }}ëª… | ê²€ìƒ‰ì–´: "{{ search_keyword }}"
      </div>
      {% endif %}
      
      <!-- 
        ê²€ìƒ‰ í¼
        
        ëª©ì : ì˜ì‚¬ ê²€ìƒ‰ì„ ìœ„í•œ í¼
          - method="post": POST ë©”ì„œë“œë¡œ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬
          - action: {% url 'doctor_list' %} - ì˜ì‚¬ ëª©ë¡ URL (ìê¸° ìì‹ )
          - CSS í´ë˜ìŠ¤: search-form (ê²€ìƒ‰ í¼ ìŠ¤íƒ€ì¼)
      -->
      <form method="post" action="{% url 'doctor_list' %}" class="search-form">
        {% csrf_token %}
        <!-- 
          ê²€ìƒ‰ ì¡°ê±´ ì„ íƒ ë“œë¡­ë‹¤ìš´
          
          ëª©ì : ê²€ìƒ‰í•  í•„ë“œë¥¼ ì„ íƒ
            - name="search_type": ì„œë²„ì—ì„œ ê²€ìƒ‰ ì¡°ê±´ì„ ì½ê¸° ìœ„í•œ í•„ë“œ ì´ë¦„
            - CSS í´ë˜ìŠ¤: search-select (ê²€ìƒ‰ ì„ íƒ ë“œë¡­ë‹¤ìš´ ìŠ¤íƒ€ì¼)
            - ì˜µì…˜:
              â†’ value="": ê¸°ë³¸ê°’ (ê²€ìƒ‰ ì¡°ê±´ ë¯¸ì„ íƒ)
              â†’ value="name": ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
              â†’ value="doctor_id": ì˜ì‚¬IDë¡œ ê²€ìƒ‰
              â†’ value="license_no": ë©´í—ˆë²ˆí˜¸ë¡œ ê²€ìƒ‰
              â†’ value="department": ì „ê³µê³¼ë¡œ ê²€ìƒ‰
              â†’ value="hospital": ë³‘ì›ëª…ìœ¼ë¡œ ê²€ìƒ‰
            - selected ì†ì„±: í˜„ì¬ ì„ íƒëœ ê²€ìƒ‰ ì¡°ê±´ í‘œì‹œ
        -->
        <select name="search_type" class="search-select">
          <option value="">ê²€ìƒ‰ì¡°ê±´</option>
          <option value="name" {% if search_type == 'name' %}selected{% endif %}>ì´ë¦„</option>
          <option value="doctor_id" {% if search_type == 'doctor_id' %}selected{% endif %}>ì˜ì‚¬ID</option>
          <option value="license_no" {% if search_type == 'license_no' %}selected{% endif %}>ë©´í—ˆë²ˆí˜¸</option>
          <option value="department" {% if search_type == 'department' %}selected{% endif %}>ì „ê³µê³¼</option>
          <option value="hospital" {% if search_type == 'hospital' %}selected{% endif %}>ë³‘ì›ëª…</option>
        </select>
        
        <!-- 
          ê²€ìƒ‰ì–´ ì…ë ¥ í•„ë“œ
          
          ëª©ì : ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ì…ë ¥
            - type="text": í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ
            - name="search_keyword": ì„œë²„ì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ì½ê¸° ìœ„í•œ í•„ë“œ ì´ë¦„
            - value="{{ search_keyword }}": ì´ì „ì— ì…ë ¥í•œ ê²€ìƒ‰ì–´ ìœ ì§€
            - placeholder: "ì¡°ê±´ ì„ íƒ í›„ ì…ë ¥" - ì‚¬ìš©ì ì•ˆë‚´ ë©”ì‹œì§€
            - CSS í´ë˜ìŠ¤: search-input (ê²€ìƒ‰ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼)
        -->
        <input 
          type="text" 
          name="search_keyword" 
          value="{{ search_keyword }}" 
          placeholder="ì¡°ê±´ ì„ íƒ í›„ ì…ë ¥" 
          class="search-input"
        >
        
        <!-- 
          ê²€ìƒ‰ ë²„íŠ¼
          
          ëª©ì : ê²€ìƒ‰ í¼ì„ ì œì¶œí•˜ì—¬ ê²€ìƒ‰ ì‹¤í–‰
            - type="submit": í¼ ì œì¶œ ë²„íŠ¼
            - CSS í´ë˜ìŠ¤: search-btn (ê²€ìƒ‰ ë²„íŠ¼ ìŠ¤íƒ€ì¼)
            - ì•„ì´ì½˜: ğŸ” (ê²€ìƒ‰ ì•„ì´ì½˜)
        -->
        <button type="submit" class="search-btn">
          <span class="search-icon">ğŸ”</span>
        </button>
      </form>
    </div>

    <!-- ì˜ì‚¬ ëª©ë¡ í…Œì´ë¸” -->
    <div class="table-container">
      <table class="user-table">
        <thead>
          <tr>
            <th>
              <a href="#" data-sort-field="doctor_id" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                No.
                {% if sort_field == 'doctor_id' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="username" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì˜ì‚¬ID
                {% if sort_field == 'username' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="name" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì´ë¦„
                {% if sort_field == 'name' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="department" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì „ê³µê³¼
                {% if sort_field == 'department' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="license_no" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ë©´í—ˆë²ˆí˜¸
                {% if sort_field == 'license_no' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="hospital" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì£¼ê·¼ë¬´ ë³‘ì›
                {% if sort_field == 'hospital' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>ì „í™”ë²ˆí˜¸</th>
            <th>
              <a href="#" data-sort-field="email" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ì´ë©”ì¼
                {% if sort_field == 'email' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="verified" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ìŠ¹ì¸ìƒíƒœ
                {% if sort_field == 'verified' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
            <th>
              <a href="#" data-sort-field="created_at" data-current-sort="{{ sort_field }}" data-current-order="{{ sort_order }}" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 4px;">
                ê°€ì…ì¼
                {% if sort_field == 'created_at' %}
                  {% if sort_order == 'asc' %}â†‘{% else %}â†“{% endif %}
                {% endif %}
              </a>
            </th>
          </tr>
        </thead>
        <tbody>
          {% for item in doctors_with_number %}
          {% with doctor=item.doctor %}
          <tr data-doctor-id="{{ doctor.doctor_id }}" class="doctor-row">
            <td>{{ item.number }}</td>
            <td>{{ doctor.user.username|default:"-" }}</td>
            <td>{{ doctor.user.name }}</td>
            <td>{{ doctor.dep.dep_name|default:"-" }}</td>
            <td>{{ doctor.license_no }}</td>
            <td>{{ doctor.hos.name|default:"-" }}</td>
            <td>{{ doctor.user.phone|mask_phone|default:"-" }}</td>
            <td>{{ doctor.user.email|default:"-" }}</td>
            <td>
              {% if doctor.verified %}
                <span class="status-badge status-approved">ìŠ¹ì¸</span>
              {% else %}
                <span class="status-badge status-pending">ëŒ€ê¸°</span>
              {% endif %}
            </td>
            <td>{{ doctor.user.created_at|date:"Y.m.d" }}</td>
          </tr>
          {% endwith %}
          {% empty %}
          <tr>
            <td colspan="10" class="no-data">ì˜ì‚¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
    {% if page_obj.paginator.num_pages > 1 %}
    <div class="pagination">
      {% if page_obj.has_previous %}
        <a href="#" class="page-link" data-page="1" data-sort="{{ sort_field|default:'' }}" data-order="{{ sort_order|default:'' }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">Â«</a>
        <a href="#" class="page-link" data-page="{{ page_obj.previous_page_number }}" data-sort="{{ sort_field|default:'' }}" data-order="{{ sort_order|default:'' }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}"><</a>
      {% else %}
        <span class="page-link disabled">Â«</span>
        <span class="page-link disabled"><</span>
      {% endif %}

      {% if page_obj.paginator.num_pages > 0 %}
        {% for num in page_obj.paginator.page_range %}
          {% if page_obj.number == num %}
            <span class="page-link active">{{ num }}</span>
          {% elif page_obj.number == 1 and num <= 4 %}
            <a href="#" class="page-link" data-page="{{ num }}" data-sort="{{ sort_field|default:'' }}" data-order="{{ sort_order|default:'' }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">{{ num }}</a>
          {% elif page_obj.number > 1 and num >= page_obj.number|add:'-1' and num <= page_obj.number|add:'2' %}
            <a href="#" class="page-link" data-page="{{ num }}" data-sort="{{ sort_field|default:'' }}" data-order="{{ sort_order|default:'' }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">{{ num }}</a>
          {% endif %}
        {% endfor %}
      {% else %}
        <span class="page-link active">1</span>
      {% endif %}

      {% if page_obj.has_next %}
        <a href="#" class="page-link" data-page="{{ page_obj.next_page_number }}" data-sort="{{ sort_field|default:'' }}" data-order="{{ sort_order|default:'' }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">></a>
        <a href="#" class="page-link" data-page="{{ page_obj.paginator.num_pages }}" data-sort="{{ sort_field|default:'' }}" data-order="{{ sort_order|default:'' }}" data-search-type="{{ search_type|default:'' }}" data-search-keyword="{{ search_keyword|default:'' }}">Â»</a>
      {% else %}
        <span class="page-link disabled">></span>
        <span class="page-link disabled">Â»</span>
      {% endif %}
    </div>
    {% endif %}

    <!-- ì„ íƒ ì˜ì‚¬ ìƒì„¸ì •ë³´ -->
    {% if selected_doctor %}
    <div class="user-detail-section card shadow-sm">
      <div class="card-body">
        <h3 class="detail-title card-title border-bottom pb-3 mb-4">ì„ íƒ ì˜ì‚¬ ìƒì„¸ì •ë³´</h3>
        <div class="doctor-detail-grid">
          <!-- ì²« ë²ˆì§¸ ì¤„: ì´ë¦„, ì˜ì‚¬ID, ìŠ¹ì¸ìƒíƒœ (3ì—´) -->
          <div class="doctor-detail-row doctor-detail-row-3">
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì´ë¦„</span>
                <div class="detail-value">{{ selected_doctor.user.name }}</div>
              </div>
            </div>
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì˜ì‚¬ID</span>
                <div class="detail-value">{{ selected_doctor.user.username|default:"-" }}</div>
              </div>
            </div>
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ìŠ¹ì¸ìƒíƒœ</span>
                <div class="detail-value">
                  {% if selected_doctor.verified %}
                    <span class="status-badge status-approved">ìŠ¹ì¸</span>
                    {% if selected_doctor.user.created_at %}
                      ({{ selected_doctor.user.created_at|date:"Y.m.d" }} ìŠ¹ì¸ì™„ë£Œ)
                    {% endif %}
                  {% else %}
                    <span class="status-badge status-pending">ëŒ€ê¸°</span>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          
          <!-- ë‘ ë²ˆì§¸ ì¤„: ë©´í—ˆë²ˆí˜¸, ì£¼ë¯¼ë²ˆí˜¸ (2ì—´) -->
          <div class="doctor-detail-row doctor-detail-row-2">
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ë©´í—ˆë²ˆí˜¸</span>
                <div class="detail-value">{{ selected_doctor.license_no }}</div>
              </div>
            </div>
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì£¼ë¯¼ë²ˆí˜¸</span>
                <div class="detail-value">
                  {% if selected_doctor.user.resident_reg_no %}
                    {% with reg_no=selected_doctor.user.resident_reg_no|cut:"-" %}{{ reg_no|slice:":6" }}-{{ reg_no|slice:"6:" }}{% endwith %}
                  {% else %}
                    -
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          
          <!-- ì„¸ ë²ˆì§¸ ì¤„: ì£¼ê·¼ë¬´ ë³‘ì›, ì „ê³µê³¼ (2ì—´) -->
          <div class="doctor-detail-row doctor-detail-row-2">
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì£¼ê·¼ë¬´ ë³‘ì›</span>
                <div class="detail-value">{{ selected_doctor.hos.name|default:"-" }}</div>
              </div>
            </div>
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì „ê³µê³¼</span>
                <div class="detail-value">{{ selected_doctor.dep.dep_name|default:"-" }}</div>
              </div>
            </div>
          </div>
          
          <!-- ë„¤ ë²ˆì§¸ ì¤„: ì „í™”ë²ˆí˜¸, ì´ë©”ì¼ (2ì—´) -->
          <div class="doctor-detail-row doctor-detail-row-2">
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì „í™”ë²ˆí˜¸</span>
                <div class="detail-value">{{ selected_doctor.user.phone|default:"-" }}</div>
              </div>
            </div>
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">ì´ë©”ì¼</span>
                <div class="detail-value">{{ selected_doctor.user.email|default:"-" }}</div>
              </div>
            </div>
          </div>
          
          {% if selected_doctor.memo %}
          <div class="doctor-detail-row doctor-detail-row-1">
            <div class="doctor-detail-col">
              <div class="detail-item">
                <span class="detail-label d-block fw-bold">í•œì¤„ ë©”ëª¨</span>
                <div class="detail-value">{{ selected_doctor.memo }}</div>
              </div>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
    {% else %}
    <!-- ìƒì„¸ ì •ë³´ ì˜ì—­ì´ ì—†ì„ ë•Œë„ ê³µê°„ ìœ ì§€ (ìŠ¤í¬ë¡¤ ì´ë™ ë°©ì§€) -->
    <div class="user-detail-section placeholder-hidden"></div>
    {% endif %}
  </div>

  <script src="{% static 'admin_panel/js/admin_common.js' %}"></script>
  <script src="{% static 'admin_panel/js/doctor_list.js' %}"></script>
</body>
</html>