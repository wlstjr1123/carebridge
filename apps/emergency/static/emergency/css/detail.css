.modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.55);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.hidden { display: none; }

.modal-wrap {
  width: 92vw;           /* 뷰포트에 맞춰 유동 */
  max-width: 1100px;     /* 데스크탑 최대 폭 제한 */
  height: auto;
  max-height: 88vh;      /* 화면 여유 확보 */
  overflow: hidden;      /* 모달 자체 스크롤 제거 */
  background: #ffffff;
  border-radius: 20px;
  padding: 24px 28px; /* 내용도 살짝 압축 */
  box-shadow: 0 10px 25px rgba(0,0,0,0.18);
  animation: fadeIn 0.28s ease;
  position: relative;
}

/* detail-large 클래스가 있을 때 */
.modal-wrap.detail-large {
  width: 92vw;
  max-width: 1100px;
  height: auto;
  max-height: 88vh;
  overflow: hidden;
}

@keyframes fadeIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Header: 병원명 + 주소 + 즐겨찾기 */
.detail-header {
  margin-bottom: 14px;   /* 여백 축소로 세로 공간 확보 */
}

.detail-header-top {
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
  margin-bottom: 8px;
}

.detail-title-wrapper {
  display: flex;
  align-items: center;
  gap: 12px;
}

.detail-title {
  font-size: 32px;
  font-weight: 800;
  color: #1f2430;
  margin: 0;
}

.detail-favorite {
  font-size: 28px;
  color: #c5c9d2;
  cursor: pointer;
  transition: 0.2s ease;
  user-select: none;
  flex-shrink: 0;
}

.detail-favorite:hover {
  color: #ffcb29;
}

.detail-favorite.on {
  color: #ffb300;
}

.detail-address {
  font-size: 15px;
  color: #666;
  margin: 4px 0 12px 0;
}

/* Tags */
.tag-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
}

.tag {
  padding: 6px 14px;
  border-radius: 30px;
  font-size: 13px;
  font-weight: 600;
  background: #e8f4ff;
  color: #0073e6;
}

/* Message Banner */
.message-banner {
  background: #fbe3e3;
  color: #b30000;
  padding: 10px 14px;    /* 패딩 축소 */
  border-radius: 10px;
  font-weight: 700;
  font-size: 14px;
  margin: 12px 0 16px;   /* 위/아래 여백 축소 */
  text-align: center;
}

/* Section Title */
.section-title {
  font-size: 18px;
  font-weight: 700;
  margin: 16px 0 12px;   /* 여백 축소 */
  color: #1f2430;
}

/* 병상 현황: 가로 1열 그리드 */
.detail-status-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 12px;            /* 카드 간격 추가 축소 */
  margin-bottom: 8px;   /* 세로 여백 추가 축소 */
  padding: 12px;        /* 패딩 추가 축소 */
  background: #ffffff;
  border: 1px solid #e2e6ec;
  border-radius: 12px;
}

.status-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.status-item-label {
  font-size: 14px;
  font-weight: 600;
  color: #2d4f77;
  text-align: center;
}

.status-circle-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.circle {
  width: 48px;
  height: 48px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

.circle svg {
  width: 48px;
  height: 48px;
  transform: rotate(-90deg);  /* 12시 기준으로 시작하도록 변경 */
}

.circle .meter-bg {
  fill: none;
  stroke-width: 4;
  stroke-linecap: round;
  stroke-dashoffset: 0;
  stroke: #e0e0e0;
}

.circle .meter {
  fill: none;
  stroke-width: 4;
  stroke-linecap: round;
  stroke-dasharray: 125.66, 125.66;  /* 원주 전체를 dash로 설정 */
  stroke-dashoffset: var(--dash-offset, 125.66);  /* CSS 변수 사용, 기본값은 비어있음 */
  transition: stroke-dashoffset 0.6s ease;  /* 값 변경 시 부드럽게 전환 */
}

.circle.green .meter {
  stroke: #0FB56E;
}

.circle.orange .meter {
  stroke: #FFB200;
}

.circle.red .meter {
  stroke: #E53935;
}

.circle.none .meter {
  stroke: #e0e0e0;
}

.circle .label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 11px;
  font-weight: 700;
  color: #1f2430;
  z-index: 1;
  line-height: 1.2;
  white-space: nowrap;
}

.circle.green .label {
  color: #0FB56E;
}

.circle.orange .label {
  color: #FFB200;
}

.circle.red .label {
  color: #E53935;
}

.circle.none .label {
  color: #999;
}

/* 원형 그래프 아래 숫자 표시 */
.status-value {
  font-size: 12px;
  font-weight: 600;
  color: #2c2c2c;
  margin-top: 2px;
  line-height: 1.2;
}

/* 하단 2단 구성 */
.detail-bottom {
  display: flex;
  gap: 20px;
  margin-top: 10px;      /* 상단 여백 더 축소 */
}

.detail-box {
  flex: 1;
  background: #fafafa;
  padding: 12px;        /* 패딩 추가 축소 */
  border: 1px solid #e4e4e4;
  border-radius: 12px;
}

.detail-box-title {
  font-size: 16px;
  font-weight: 700;
  margin: 0 0 10px 0;   /* 제목 아래 여백 더 축소 */
  color: #1f2430;
}

/* AI 리뷰 요약 */
.review-sentiment {
  margin-bottom: 16px;
}

.sentiment-bar {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  font-size: 13px;
  font-weight: 600;
}

.sentiment-positive {
  color: #0FB56E;
}

.sentiment-negative {
  color: #E53935;
}

.sentiment-visual {
  display: flex;
  gap: 4px;
  margin-bottom: 12px;
}

.sentiment-bars {
  display: flex;
  gap: 4px;
}

.sentiment-bars.positive-bars .bar-item {
  width: 20px;
  height: 20px;
  background: #0FB56E;
  border-radius: 4px;
}

.sentiment-bars.negative-bars .bar-item {
  width: 20px;
  height: 20px;
  background: #E53935;
  border-radius: 4px;
}

.review-summary {
  margin-top: 12px;
}

.review-summary-text {
  font-size: 14px;
  color: #444;
  line-height: 1.6;
  margin: 0;
}

/* 지도 */
.detail-map {
  width: 100%;
  height: 160px;  /* 기본 지도 높이 (공통) */
  background: #dcdcdc;
  border-radius: 12px;
  margin-bottom: 10px;  /* 버튼과 간격 축소 */
  display: flex;
  align-items: center;
  justify-content: center;
  color: #666;
  font-size: 14px;
}

.navigation-btn {
  width: 100%;
  padding: 12px 16px;
  border: none;
  border-radius: 8px;
  background: #2d83ff;
  color: white;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.2s ease;
}

.navigation-btn:hover {
  background: #1b6ae0;
}

/* Close button */
.modal-close {
  position: absolute;
  top: 18px;
  right: 22px;
  font-size: 30px;
  background: none;
  border: none;
  cursor: pointer;
  color: #444;
  line-height: 1;
  padding: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-close:hover {
  color: #000;
}

/* Mobile */
@media (max-width: 767px) {
  .modal-wrap {
    width: 90vw;
    max-width: 90vw;
    padding: 28px 20px;
    border-radius: 16px;
  }

  .modal-wrap.detail-large {
    width: 95vw;
    max-width: 95vw;
  }

  .detail-title {
    font-size: 22px;
  }

  .detail-title-wrapper { gap: 8px; }
  .detail-header-top { flex-direction: column; align-items: flex-start; }

  .detail-status-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
    padding: 16px;
  }

  .detail-bottom {
    flex-direction: column;
    gap: 14px;
    margin-top: 20px;
  }

  /* 모바일에서 detail-box 스타일 제거 */
  .detail-box {
    background: transparent; /* 배경 제거 */
    border: none; /* 테두리 제거 */
    padding: 0; /* 패딩 제거 */
    border-radius: 0; /* 둥근 모서리 제거 */
  }

  /* 모바일에서 제목 숨기기 */
  .detail-box-title {
    display: none;
  }

  /* 모바일에서 지도 미리보기 숨기기 */
  .detail-map {
    display: none;
  }

  /* 길찾기 버튼만 표시 */
  .navigation-btn {
    width: 100%;
    margin-top: 0; /* 지도가 없으므로 상단 마진 제거 */
  }
}

/* Tablet */
@media (min-width: 768px) and (max-width: 1023px) {
  .modal-wrap {
    width: 90vw;
    max-width: 900px;
    padding: 32px 28px;
    border-radius: 18px;
  }

  .modal-wrap.detail-large {
    width: 95vw;
    max-width: 1050px;
  }

  .detail-title { font-size: 26px; }

  .detail-status-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 18px;
    padding: 20px;
  }

  .detail-bottom {
    flex-direction: column;
    gap: 16px;
  }

  .detail-map { height: 320px; }
}

/* PC */
@media (min-width: 1024px) {
  .modal-wrap {
    width: 1000px;
    max-width: 90vw;
  }

  .modal-wrap.detail-large {
    width: 1200px;
    max-width: 95vw;
  }

  .detail-status-grid {
    grid-template-columns: repeat(6, 1fr);
    gap: 24px;
    padding: 24px;
  }

  .detail-bottom {
    flex-direction: row;
    gap: 20px;
  }

  .detail-map { height: 300px; } /* 기본 PC 지도 높이 축소 */
}

/* ===============================
   메시지 존재 시 지도 축소 (PC)
   =============================== */
  .modal-wrap.has-message .detail-map {
    height: 220px;          /* 메시지 있을 때 더 축소 */
    margin-bottom: 16px;    /* 모달 하단 여백 확보 */
  }
  