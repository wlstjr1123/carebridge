/* ===== 공통 오버레이 ===== */
.modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(3px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.hidden { display: none !important; }

/* ---------------- FILTER MODAL ---------------- */
/* 필터 모달 래퍼 */
.modal-wrap.filter-large {
  width: 800px;
  max-width: 90vw;
  max-height: 90vh;
  background: #ffffff;
  border-radius: 20px;
  padding: 36px 42px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.18);
  animation: fadeIn 0.28s ease;
  position: relative;
  overflow-y: auto;
}

@keyframes fadeIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
.filter-modal-box {
  width: 720px;
  background: #ffffff;
  border-radius: 18px;
  padding: 28px 32px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  box-shadow: 0 8px 28px rgba(0,0,0,0.18);
  max-height: 88vh;
  overflow-y: auto;
}

/* HEADER */
.filter-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.modal-close {
  font-size: 26px;
  background: none;
  border: none;
  cursor: pointer;
}

/* SECTION TITLE */
.filter-title {
  font-size: 18px;
  font-weight: 700;
  margin-top: 6px;
  margin-bottom: 6px;
}

/* 모달 제목 스타일 */
.modal-title {
  font-size: 20px;
  font-weight: 700;
  margin: 24px 0 16px 0;
  color: #1f2430;
}

.modal-title:first-of-type {
  margin-top: 0;
}

/* ===== 응급 유형 : 긴 버튼 1열 ===== */
.type-group {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;  /* 중앙 정렬 */
  /* 잘림 방지 */
  box-sizing: border-box;
  overflow: visible;
}

.type-chip {
    display: block;
    /* 잘림 방지 */
    width: 100%;
    box-sizing: border-box;
    word-wrap: break-word;
    overflow-wrap: break-word;
    white-space: normal;
}

.type-chip.active {
  background: #0a84ff;
  color: white;
  border-color: #0a84ff;
}

/* ===== 장비 및 시설 : 2행 3열 칩 ===== */
.equip-group {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 4px;
}

.equip-chip {
  flex: 1 0 calc(33% - 12px);
  max-width: 185px;
  padding: 12px 6px;
  border-radius: 10px;
  background: #ffffff;
  border: 1px solid #ddd;
  font-size: 15px;
  font-weight: 500;
  text-align: center;
  cursor: pointer;
}

/* 장비 그룹 내 장비 칩 스타일 재정의 */
#equip-group .equip-chip {
  flex: 0 0 auto;
  min-width: 100px;
  max-width: none;
  padding: 12px 16px;
  white-space: nowrap;
}

.equip-chip.active {
  background: #0a84ff;
  border-color: #0a84ff;
  color: white;
  font-weight: 600;
}

/* ===== FOOTER BUTTONS ===== */
.filter-footer {
  display: flex;
  justify-content: flex-end;   /* 오른쪽 정렬 */
  align-items: center;
  gap: 10px;
  margin-top: 16px;
}

/* 모달 액션 버튼 영역 */
.modal-actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 12px;
  margin-top: 32px;
  padding-top: 24px;
  border-top: 1px solid #e5e5e5;
}

/* 초기화 버튼 새로운 색상 (중립색 제안: #e0e0e0 회색톤) */
.btn.reset {
  padding: 12px 24px;
  background: #e0e0e0;    /* 노란색 제거 */
  color: #333;
  border-radius: 10px;
  border: none;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

/* 적용 버튼 */
.btn.primary {
  padding: 12px 24px;
  background: #0a84ff;
  color: white;
  border-radius: 10px;
  border: none;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

.btn:hover { opacity: 0.9; }

/* ===== 장비/시설 칩 active 스타일을 유형과 동일 처리 ===== */
.equip-chip.active {
  background: #0a84ff;       /* 동일 파란색 */
  border-color: #0a84ff;
  color: white;
  font-weight: 600;
}

/* ================================
   필터 태그 UI
================================== */

.filter-tags {
  width: 100%;
  background: #ffffff;
  padding: 10px 4px 14px 4px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  margin: 0 auto 14px auto;
  border: 1px solid #ececec;
}

.filter-tags.hidden {
  display: none;
}

.filter-tags-label {
  font-size: 14px;
  font-weight: 700;
  color: #222;
  margin-right: 4px;
}

.filter-tag {
  padding: 6px 12px;
  font-size: 13px;
  border-radius: 12px;
  background: #e8f1ff;
  color: #0a84ff;
  display: flex;
  align-items: center;
  gap: 6px;
  border: 1px solid #bcd7ff;
  font-weight: 600;
}

.filter-tag .tag-remove {
  cursor: pointer;
  font-weight: 800;
}

.filter-reset-btn {
  margin-left: auto;
  padding: 6px 12px;
  font-size: 13px;
  border: none;
  border-radius: 10px;
  background: #e0e0e0;
  color: #333;
  cursor: pointer;
}

.filter-reset-btn:hover {
  opacity: 0.9;
}

.tag-chip {
  background: #e8f1ff;
  color: #005bff;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 13px;
  white-space: nowrap;
  font-weight: 600;
}

/* ===========================
   Filter Result Chip Hover
   =========================== */
.tag-chip {
  display: inline-flex;
  align-items: center;
  padding: 6px 12px;
  background: #eef2f7;
  border-radius: 18px;
  border: 1px solid #d4d7dc;
  font-size: 14px;
  font-weight: 500;
  margin-right: 8px;
  cursor: pointer;
  transition: all 0.18s ease-in-out;
}

.tag-chip:hover {
  background: #0069ff;
  color: #fff;
  border-color: #0061e0;
  transform: translateY(-1px);
}

.tag-chip .tag-remove {
  margin-left: 6px;
  cursor: pointer;
  font-weight: 600;
}

.tag-chip:hover .tag-remove {
  color: white;
}

/* ===========================
   선택 초기화 버튼 스타일
   =========================== */
#filter-tags-reset {
  display: inline-flex;
  align-items: center;
  padding: 6px 14px;
  background: #eef2f7;
  border: 1px solid #d4d7dc;
  border-radius: 18px;
  font-size: 14px;
  font-weight: 500;
  margin-left: 10px;
  cursor: pointer;
  transition: all 0.18s ease-in-out;
}

/* hover 효과 */
#filter-tags-reset:hover {
  background: #ff6b6b;
  color: #ffffff;
  border-color: #ff5252;
  transform: translateY(-1px);
}

.chip {
    pointer-events: auto;
}

.chip-row {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* 장비 그룹은 가로 1열로 나열 */
#equip-group {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    justify-content: flex-start;
    gap: 12px;
    width: 100%;
}

.chip-row .chip {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
}

/* 장비 칩 스타일 조정 (가로 배치에 맞게) */
#equip-group .chip {
    flex: 0 0 auto;
    min-width: 100px;
    padding: 12px 16px;
    white-space: nowrap;
}

.type-group {
    width: 100%;
    max-width: 720px;   /* filter-modal-box와 동일하게 */
    margin: 0 auto;     /* 중앙 정렬 */
}

/* === 응급 유형 버튼 너비 확장 (CT~분만실과 동일) === */
.type-group .chip-row {
    width: 100%;
    box-sizing: border-box;
    overflow: visible;
}

.type-chip {
    display: block;
    width: 100%;
    box-sizing: border-box;
}

/* ===== 모바일 반응형 스타일 ===== */
@media (max-width: 768px) {
  /* 필터 모달 크기 및 패딩 조정 */
  .modal-wrap.filter-large {
    width: 95vw;
    max-width: 95vw;
    max-height: 90vh;
    padding: 24px 20px;
    border-radius: 16px;
    /* 스크롤 가능하도록 */
    overflow-y: auto;
    overflow-x: hidden;
  }

  /* 모달 제목 크기 조정 */
  .modal-title {
    font-size: 18px;
    margin: 20px 0 12px 0;
  }

  /* 응급 유형 버튼 간격 조정 및 잘림 방지 */
  .type-group {
    gap: 8px;
    width: 100%;
    box-sizing: border-box;
  }

  /* 응급 유형 버튼 스타일 조정 */
  .type-chip {
    width: 100%;
    box-sizing: border-box;
    padding: 12px 16px;
    font-size: 16px;
    word-wrap: break-word;
    overflow-wrap: break-word;
    white-space: normal;
  }

  /* 응급 유형 그룹 내부 버튼 */
  #emergency-type-group {
    width: 100%;
    box-sizing: border-box;
  }

  #emergency-type-group .chip {
    width: 100%;
    box-sizing: border-box;
    padding: 12px 14px;
    font-size: 16px;
    word-wrap: break-word;
    overflow-wrap: break-word;
    white-space: normal;
  }

  /* 장비 그룹: 모바일에서 flex-wrap 허용 (1열 정렬 안 함) */
  #equip-group {
    flex-wrap: wrap !important;
    gap: 10px;
  }

  /* 장비 칩 크기 조정 */
  #equip-group .chip {
    min-width: auto;
    flex: 1 1 calc(50% - 5px); /* 2열 배치 */
    max-width: calc(50% - 5px);
    padding: 10px 12px;
    font-size: 14px;
  }

  /* 모달 액션 버튼 영역 조정 */
  .modal-actions {
    margin-top: 24px;
    padding-top: 20px;
    gap: 10px;
  }

  /* 버튼 크기 조정 */
  .btn.primary,
  .btn.secondary {
    padding: 10px 20px;
    font-size: 15px;
  }
}
